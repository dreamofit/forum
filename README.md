# forum 说明文档
## 项目说明
    该项目类似论坛之类的，准备功能有资讯、圈子讨论以及个人空间，将要实现的功能包括对帖子以及评论的点赞、收藏、点踩、举报等功能

## 使用方法
    运行ServiceInit, 加上jvm参数： --add-opens java.base/java.lang=ALL-UNNAMED
    必须需要关联的项目howaysso，用户信息存在这个项目，目前是必须关联，除非手动修改代码。
    需要关联项目HowayRecord，记录每次请求的详细信息，但是不关联不影响项目正常运行。
    还需要关联howaySearch，全文搜索引擎服务，但是不关联不影响项目正常运行。


## 技术准备
    后端服务拟采用java，其中jdk版本基于17进行开发，使用springboot框架，数据库使用mybatis+redis缓存，使用dubbo进行分布式开发。

## 项目框架
    forum-core: 数据库核心层
    forum-processor： 处理器层，各服务核心处理逻辑
    forum-util: 工具库
    forum-api: dubbo api
    forum-access: 提供restful api

## 待实现或正在考虑的功能
    1.获取我的评论、我的回复、我的空间、我的收藏、我的关注粉丝、我的设置等信息
    2.查询文章时注意文章设置的各项权限信息，评论时注意文章设置的评论权限信息，精选留言功能待考虑
    3.文章、评论点赞、收藏等功能
    4.用户拉黑、关注等功能
    5.引入mq消息队列待考虑
    6.缓存是否再进行一次优化
    7.文章搜索功能
    8.是否将我的版块设置成个人空间，允许样式自定义？
    9.当数据库过多，是否存在数据一致性等问题，某个环节崩溃，后续是否考虑回滚（暂时写的表一般就一个，故目前不存在）
    10.用户私信聊天功能
    11.后端管理平台
    12.idea自定义插件，如processor与input、output类自动生成等
    13.考虑sql注入等问题
    14.文章排序规则：综合排序  热度排序  时间排序  个性化推荐排序
    15.空间开放权限问题 公开、仅好友、仅粉丝、仅个人   权限大小问题，空间权限与动态权限
    16.个人主页自定义

## 方案
### 权限问题方案
    问题描述：资讯、博客已经空间权限问题
    方案：资讯全公开，任何人都可阅读；博客可由作者设置权限（其中私有权限不在其他人列表展示，
    但其他权限包括仅好友/仅粉丝可见都可以在其他列表进行展示，只有点进文章详情时会提示是否具有相关权限）
    空间本身权限最大值为仅好友可见，最小为私有均不可见。查询好友时用IN

## api说明(待更新)
    用户模块，如登录注册之类的见howaysso项目
    接口规范遵循restful规范，每次都需要上送token,成功调用之后也会返回token,token有时间限制，所以每次调用接口后及时更新token

### 写文章
    url:/essay
    参数：token=3e4vpq6ec7b97e85582e442e87916435566822e0
    method:POST
    body:{
        "title":"我和java",
        "eventNo":"029",
        "type":1
    }
    

